<div
  class="flex flex-col bg-white border-r border-gray-200 h-screen transition-all duration-300 overflow-hidden"
  [ngClass]="{ 'w-16': isCollapsed(), 'w-64': !isCollapsed() }"
>
  <!-- Header -->
  <div class="flex items-center justify-between px-4 py-3 border-b border-gray-200">
    <!-- Logo -->
    <div *ngIf="!isCollapsed()" class="flex items-center">
      <a [routerLink]="'/admin/dashboard'" routerLinkActive="active">
        <img
          src="assets/logo.png"
          alt="logo"
          class="w-32 h-auto object-contain transition-transform duration-200 hover:scale-105"
        />
      </a>
    </div>

    <!-- Collapse/Expand button -->
    <button
      class="p-2 rounded-md border border-gray-300 hover:bg-gray-100 transition-colors flex-shrink-0"
      (click)="toggleCollapse()"
    >
      <i class="bi text-xl text-gray-700" [ngClass]="isCollapsed() ? 'bi-list' : 'bi-x-lg'"></i>
    </button>
  </div>

  <!-- Menu -->
  <nav class="flex-1 px-3 py-4 flex flex-col space-y-2">
    <button
      *ngFor="let item of filteredMenuItems()"
      [routerLink]="item.path"
      routerLinkActive="active"
      (click)="changePage(item.id)"
      class="flex items-center gap-3 px-4 py-2 rounded-md cursor-pointer transition-colors font-medium"
      [ngClass]="{
        'justify-center': isCollapsed(),
        'bg-indigo-600 text-white': currentPage === item.id,
        'text-gray-700 hover:bg-indigo-50 hover:text-indigo-600': currentPage !== item.id
      }"
    >
      <i class="bi text-lg" [ngClass]="item.icon"></i>
      <span *ngIf="!isCollapsed()" class="truncate">{{ item.title }}</span>
    </button>
  </nav>

  <!-- Footer -->
  <div class="border-t border-gray-200 px-3 py-4">
    <button
      class="flex items-center gap-3 px-4 py-2 rounded-md cursor-pointer font-medium text-red-600 transition-colors hover:bg-red-50"
      (click)="doLogout()"
      [ngClass]="{ 'justify-center': isCollapsed() }"
    >
      <i class="bi bi-box-arrow-right text-lg"></i>
      <span *ngIf="!isCollapsed()" class="truncate">Logout</span>
    </button>
  </div>
</div>
