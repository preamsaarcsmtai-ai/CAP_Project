<div
  class="flex flex-col bg-white  shadow-md h-screen overflow-hidden transition-all duration-300"
  [ngClass]="{ 'w-16': isCollapsed(), 'w-64': !isCollapsed() }"
>
  <!-- Header -->
  <div class="flex items-center justify-between px-3 py-2  flex-shrink-0">
    <!-- Logo only when expanded -->
    <div *ngIf="!isCollapsed()">
      <a [routerLink]="'/admin/dashboard'" routerLinkActive="active">
        <img src="assets/logo.png" alt="logo" class="h-10 w-auto" />
      </a>
    </div>

    <!-- Collapse/Expand button -->
    <button
      class="p-2 rounded-md border border-gray-300 hover:bg-gray-100 flex-shrink-0 transition-colors"
      (click)="toggleCollapse()"
    >
      <i class="bi text-xl" [ngClass]="isCollapsed() ? 'bi-list' : 'bi-x-lg'"></i>
    </button>
  </div>

  <!-- Menu -->
  <nav class="flex-1 overflow-y-auto px-2 py-3 space-y-1">
    <button
      *ngFor="let item of filteredMenuItems()"
      [routerLink]="item.path"
      routerLinkActive="bg-indigo-600 text-white"
      (click)="changePage(item.id)"
      class="flex items-center w-full px-3 py-2 rounded-md hover:bg-gray-500 transition-colors"
      [ngClass]="{ 'justify-center': isCollapsed() }"
    >
      <i class="bi text-lg" [ngClass]="item.icon"></i>
      <span *ngIf="!isCollapsed()" class="ml-2 truncate">{{ item.title }}</span>
    </button>
  </nav>

  <!-- Footer -->
  <div class="px-2 py-3 flex-shrink-0">
    <button
      class="flex items-center w-full px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors"
      (click)="doLogout()"
      [ngClass]="{ 'justify-center': isCollapsed() }"
    >
      <i class="bi bi-box-arrow-right text-lg"></i>
      <span *ngIf="!isCollapsed()" class="ml-2 truncate">Logout</span>
    </button>
  </div>
</div>
