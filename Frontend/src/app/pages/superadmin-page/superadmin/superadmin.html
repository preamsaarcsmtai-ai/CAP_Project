<div class="min-h-screen bg-gray-50 p-6 font-sans text-gray-800">
  <!-- Header -->
  <h1 class="text-3xl font-bold mb-8 text-gray-900">Super Admin Dashboard</h1>

  <!-- Stats -->

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
    <!-- Total Institutions -->
    <div class="bg-white rounded-2xl shadow-lg p-6 flex flex-col justify-between hover:shadow-xl transition">
      <div class="flex items-center justify-between">

  <div class="grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-3 gap-6 mb-8">
    <!-- Total Institutions -->
    <div class="bg-white rounded-2xl shadow-md p-5 border border-gray-200 flex flex-col justify-between ">
      <div class="flex items-center justify-between ">

        <h6 class="text-sm font-semibold text-gray-600 uppercase tracking-wide">Total Institutions</h6>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l6.16-3.422A12.083 12.083 0 0112 21.5a12.083 12.083 0 01-6.16-10.922L12 14z" />
        </svg>
      </div>

      <h5 class="mt-3 text-3xl font-bold text-gray-900">5</h5>
    </div>

    <!-- Total Users -->
    <div class="bg-white rounded-2xl shadow-lg p-6 flex flex-col justify-between hover:shadow-xl transition">

      <h5 class="mt-2 text-2xl font-bold text-gray-900">5</h5>
    </div>

    <!-- Total Users -->
    <div class="bg-white rounded-2xl shadow-md p-5 border border-gray-200 flex flex-col justify-between">

      <div class="flex items-center justify-between">
        <h6 class="text-sm font-semibold text-gray-600 uppercase tracking-wide">Total Users</h6>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-1a4 4 0 00-3-3.87M9 20H4v-1a4 4 0 013-3.87M16 3.13a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>
      </div>

      <h5 class="mt-3 text-3xl font-bold text-gray-900">3</h5>

      <h5 class="mt-2 text-2xl font-bold text-gray-900">3</h5>

    </div>
  </div>

  <!-- Main Sections -->
  <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
    <!-- Institutions -->
    <div class="lg:col-span-7 bg-white rounded-2xl shadow-lg p-6">
      <div class="flex items-start justify-between mb-6">
        <div>
          <h5 class="text-xl font-bold text-gray-900">Institutions Management</h5>
          <p class="text-gray-500 text-sm">Manage educational institutions and their administrators</p>
        </div>
        <button

          class="px-4 py-2 text-sm font-medium rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 transition"

          class="px-4 py-2 text-sm font-medium border border-gray-300 rounded-lg bg-gray-50 hover:bg-gray-100 text-gray-700 transition hover:cursor-pointer"

          (click)="openAddInstitutionModal()"
        >
          + Add Institution
        </button>
      </div>

      <!-- Search -->
      <div class="flex gap-2 mb-6">
        <input
          type="search"
          class="flex-1 rounded-lg border border-gray-200 px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400"
          placeholder="Search institution..."
        />
        <button class="px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1110.5 3a7.5 7.5 0 016.15 13.65z" />
          </svg>
        </button>
      </div>

      <!-- Institution List -->
      <div *ngFor="let inst of institutions" class="mb-4">
        <div
          class="p-4 flex items-center justify-between rounded-lg bg-gray-50 hover:bg-gray-100 transition cursor-pointer"
          (click)="inst.showBranches = !inst.showBranches"
        >
          <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7h18M3 12h18M3 17h18" />
            </svg>
            <div>
              <h6 class="text-sm font-semibold text-gray-900">{{ inst.name }}</h6>
              <p class="text-xs text-gray-500">{{ inst.code }}</p>
            </div>
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transform transition-transform" [ngClass]="{'rotate-90': inst.showBranches}" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </div>

        <div *ngIf="inst.showBranches" class="mt-2">
          <ul class="divide-y rounded-lg bg-white shadow-sm">
            <li class="px-4 py-2 text-sm text-gray-700" *ngFor="let branch of inst.branches">{{ branch }}</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- System Management -->
    <div class="lg:col-span-5 bg-white rounded-2xl shadow-lg p-6">
      <h3 class="text-xl font-bold mb-2 text-gray-900">System Management</h3>
      <p class="text-sm text-gray-500 mb-6">Administrative controls</p>
      <div class="flex flex-col gap-3">
        <button class="px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm font-medium text-gray-700" [routerLink]="'/institution'">
          Manage Institutions
        </button>
        <button class="px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm font-medium text-gray-700" [routerLink]="'/users'">
          Manage Users
        </button>
        <button class="px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm font-medium text-gray-700">
          System Settings
        </button>
      </div>
    </div>
  </div>

  <!-- Add Institution Modal -->
  <div *ngIf="showAddInstitutionModal" class="fixed inset-0  bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-xl shadow-lg w-full max-w-4xl p-6">
      <!-- Modal Header -->
      <div class="flex justify-between items-center border-b pb-3 mb-4">
        <h5 class="text-lg font-semibold">Create New Institution</h5>
        <button type="button" class="text-gray-500 hover:text-gray-700" (click)="closeAddInstitutionModal()">&times;</button>
      </div>

      <!-- Modal Body -->
      <form [formGroup]="addInstitutionForm" (ngSubmit)="addInstitution()" class="space-y-4 py-5">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <!-- Institution Name -->
          <div>
            <label class="block text-sm font-medium">Institution Name <span class="text-red-500">*</span></label>
            <input formControlName="name" class="mt-1 w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300" />
            <div *ngIf="addInstitutionForm.get('name')?.invalid && addInstitutionForm.get('name')?.touched" class="text-red-500 text-sm mt-1">
              <div *ngIf="addInstitutionForm.get('name')?.errors?.['required']">Institution name is required.</div>
              <div *ngIf="addInstitutionForm.get('name')?.errors?.['minlength']">Must be at least 3 characters.</div>
              <div *ngIf="addInstitutionForm.get('name')?.errors?.['pattern']">Must start with a capital letter and contain only letters.</div>
            </div>
          </div>

          <!-- Institution Code -->
          <div>
            <label class="block text-sm font-medium">Institution Code <span class="text-red-500">*</span></label>
            <input formControlName="code" class="mt-1 w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300" />
            <div *ngIf="addInstitutionForm.get('code')?.invalid && addInstitutionForm.get('code')?.touched" class="text-red-500 text-sm mt-1">Institution code is required</div>
          </div>
        </div>

        <!-- Address -->
        <div>
          <label class="block text-sm font-medium">Address</label>
          <textarea formControlName="address" rows="3" class="mt-1 w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300"></textarea>
          <div *ngIf="addInstitutionForm.get('address')?.invalid && addInstitutionForm.get('address')?.touched" class="text-red-500 text-sm mt-1">
            <div *ngIf="addInstitutionForm.get('address')?.errors?.['required']">Address is required</div>
            <div *ngIf="addInstitutionForm.get('address')?.errors?.['minlength']">Must be at least 10 characters.</div>
          </div>
        </div>

        <!-- Admin Info -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <label class="block text-sm font-medium">Admin First Name <span class="text-red-500">*</span></label>
            <input formControlName="firstname" class="mt-1 w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300" />
            <div *ngIf="addInstitutionForm.get('firstname')?.invalid && addInstitutionForm.get('firstname')?.touched" class="text-red-500 text-sm mt-1">
              <div *ngIf="addInstitutionForm.get('firstname')?.errors?.['required']">Required</div>
              <div *ngIf="addInstitutionForm.get('firstname')?.errors?.['pattern']">Must start with a capital letter and contain only letters.</div>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium">Admin Last Name</label>
            <input formControlName="lastname" class="mt-1 w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300" />
          </div>
          <div>
            <label class="block text-sm font-medium">Admin Email <span class="text-red-500">*</span></label>
            <input type="email" formControlName="email" class="mt-1 w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300" />
            <div *ngIf="addInstitutionForm.get('email')?.invalid && addInstitutionForm.get('email')?.touched" class="text-red-500 text-sm mt-1">
              <div *ngIf="addInstitutionForm.get('email')?.errors?.['required']">Required</div>
              <div *ngIf="addInstitutionForm.get('email')?.errors?.['pattern']">Enter a valid email.</div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="flex justify-end gap-3 pt-4 border-t mt-4">
          <button type="button" class="px-4 py-2 rounded-lg border text-gray-600 hover:bg-gray-100" (click)="closeAddInstitutionModal()">Cancel</button>
          <button type="submit" class="px-4 py-2 rounded-lg bg-green-400 text-white hover:bg-green-500 hover:cursor-pointer">Create Institution & Admin</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Add Institution Modal -->
<div
  *ngIf="showAddInstitutionModal"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"
>
  <div class="bg-white rounded-2xl shadow-xl w-full max-w-lg p-6 relative">
    <!-- Close Button -->
    <button
      (click)="closeAddInstitutionModal()"
      class="absolute top-3 right-3 text-gray-500 hover:text-gray-800"
    >
      ✕
    </button>

    <h2 class="text-xl font-bold text-gray-900 mb-4">Add Institution</h2>

    <form [formGroup]="addInstitutionForm" (ngSubmit)="addInstitution()" class="space-y-4">
      <input formControlName="name" type="text" placeholder="Institution Name"
        class="w-full rounded-lg border border-gray-200 px-3 py-2 focus:ring-2 focus:ring-indigo-400" />

      <input formControlName="code" type="text" placeholder="Code"
        class="w-full rounded-lg border border-gray-200 px-3 py-2 focus:ring-2 focus:ring-indigo-400" />

      <textarea formControlName="address" rows="2" placeholder="Address"
        class="w-full rounded-lg border border-gray-200 px-3 py-2 focus:ring-2 focus:ring-indigo-400"></textarea>

      <div class="grid grid-cols-2 gap-4">
        <input formControlName="firstname" type="text" placeholder="First Name"
          class="w-full rounded-lg border border-gray-200 px-3 py-2 focus:ring-2 focus:ring-indigo-400" />
        <input formControlName="lastname" type="text" placeholder="Last Name"
          class="w-full rounded-lg border border-gray-200 px-3 py-2 focus:ring-2 focus:ring-indigo-400" />
      </div>

      <input formControlName="email" type="email" placeholder="Email"
        class="w-full rounded-lg border border-gray-200 px-3 py-2 focus:ring-2 focus:ring-indigo-400" />

      <div class="flex justify-end gap-3 pt-4">
        <button type="button" (click)="closeAddInstitutionModal()"
          class="px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg">
          Cancel
        </button>
        <button type="submit"
          class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700">
          Save
        </button>
      </div>
    </form>
  </div>
</div>
