<div class="flex flex-col h-screen bg-white border-r border-gray-200 shadow-lg transition-all duration-300"
     [class.w-60]="!collapsed && !mobileMenuOpen"
     [class.w-16]="collapsed && !mobileMenuOpen"
     [class.fixed]="isMobile"
     [class.inset-0]="isMobile && mobileMenuOpen"
     [class.z-50]="isMobile && mobileMenuOpen"
     [class.opacity-0]="isMobile && !mobileMenuOpen"
     [class.opacity-100]="isMobile && mobileMenuOpen">

  <!-- Logo -->
  <div class="flex items-center justify-center p-4 border-b border-gray-200">
    <span *ngIf="!collapsed || isMobile" class="font-bold text-lg text-indigo-600">StudyPortal</span>
    <span *ngIf="collapsed && !isMobile" class="font-bold text-lg text-indigo-600 text-center">SP</span>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 mt-4 overflow-y-auto">
    <ul>
      <li *ngFor="let item of mainNavItems">
        <a [routerLink]="item.url"
           routerLinkActive="bg-indigo-100 text-indigo-700"
           class="flex items-center gap-3 py-3 rounded hover:bg-indigo-50 transition group"
           [ngClass]="{
             'px-4': !collapsed,
             'px-2 justify-center': collapsed
           }">
          <i class="bi text-lg" [ngClass]="item.icon"></i>
          <span *ngIf="!collapsed || isMobile">{{ item.title }}</span>
        </a>
      </li>
    </ul>
  </nav>

  <!-- Profile -->
  <div *ngIf="!collapsed || isMobile" class="p-4 border-t border-gray-200 mt-auto flex items-center gap-3">
    <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold shadow">
      JS
    </div>
    <div class="flex flex-col">
      <p class="text-sm font-medium text-gray-800 truncate">John Student</p>
      <p class="text-xs text-gray-500 truncate">john.student@email.com</p>
    </div>
  </div>
</div>

<!-- Mobile overlay backdrop -->
<div *ngIf="isMobile && mobileMenuOpen" 
     class="fixed inset-0 bg-black/40 z-40" 
     (click)="mobileMenuOpen = false"></div>
